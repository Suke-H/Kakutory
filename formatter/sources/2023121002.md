# このサイトの使用技術

このサイトで使用している技術についてご紹介します。

[GitHubリポジトリ](https://github.com/Suke-H/Kakutory/)のREADMEに大まかな箇条書きはしていますが、
このページではより詳しく説明していきます。

## 1. インフラ

インフラにはAWSを使用しています。ざっくりこんな感じ。

- S3: 静的ホスティング
- Route53: ドメイン取得
- CloudFront: HTTPS化

人生初のドメイン取得でしたが、こんな簡単にできるとは...  
運用自体も、静的ホスティングなので結構安く済んでてありがたいです。

また、一度「AWSクラウドプラクティショナー」の資格を取ってから臨んだので、  
これ試験でやったやつ！というのが多くて楽しかったです。  
アーキテクチャ図とかそのうち描けるようになりたい。  

## 2. フロントエンド

まず、環境構築はViteで行っています。[こちらの記事](https://zenn.dev/sikkim/articles/93bf99d8588e68)を参考にしました。  
Viteで新規プロジェクトを作成することで、ガイドに沿っていけば自分が実現したい開発環境を構築できます。  
自分はReact + TypeScriptにしました。  
ホットリロードでの開発やビルドも、全てVite内で完結できています。  

こんな感じの`package.json`が作られ、

```json
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview"
  },
```

`npm run dev`で開発、`npm run build`でビルド、`npm run preview`でビルドのプレビューができます。

また、ReactのUIコンポーネントライブラリである[Material-UI(MUI)](https://mui.com/)も一部に使用しています。  
簡単にリッチなUIが作れて、いい感じですね。現在は日記一覧のページに使用しています。  

## 3. CD

デプロイに必要な以下の手順を、GitHub Actionsで自動化させています。

1. Viteによるビルド
1. S3へアップロード
1. CloudFrontのキャッシュ削除

CDは憧れだったので、これができて嬉しいです。  
AWSとの連携部分には、OpenID Connect(OIDC)認証を利用しています。  
AWSの操作が自動化できるのは大きいです！かなり役立ってます。

ちなみにこちらの[Udemy教材](https://www.udemy.com/course/cicd-with-github-actions/)を大いに参考にしました。  

## 4. その他

その他として、この日記の作成・フォーマットに[zenn-editor](https://github.com/zenn-dev/zenn-editor)を使っています。    
markdownドキュメントを、zenn形式のhtmlに変換してくれるライブラリです。  
一気に開発者ブログ感がでるので、とてもありがたい。

現在はローカルでこのライブラリを実行し、そのまま貼り付けているスタイルです。  
...なんかスマートじゃないので、もう少しいい方法があればなあと。  

## まとめ
ざっとこのような技術を使って、このサイトを作っています。  
始めたばかりではありますが、開発していてとても楽しいです！！   
大変な部分はあったものの、「まあ何とかなるんだな」とわかったのが一番の発見です。  
これから自分の場所にしていけたらと思います。  
まだまだやること、改善できることは多いので、ゆっくりやっていきます。  

